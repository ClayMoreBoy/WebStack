var webStack={init:function(){this.weatherWidgetInit()},weatherWidgetInit:function(){var e,t,s,o,n,a,i,c;e=window,t=document,s="script",o="SeniverseWeatherWidget",n="//cdn.sencdn.com/widget2/static/js/bundle.js?t="+parseInt(((new Date).getTime()/1e8).toString(),10),c=function(){a=t.createElement(s),i=t.getElementsByTagName(s)[0],a.src=n,a.charset="utf-8",a.async=1,i.parentNode.insertBefore(a,i)},e.SeniverseWeatherWidgetObject=o,e[o]||(e[o]=function(){(e[o].q=e[o].q||[]).push(arguments)}),e[o].l=+new Date,e.attachEvent?e.attachEvent("onload",c):e.addEventListener("load",c,!1),window.SeniverseWeatherWidget("show",{flavor:"slim",location:"WX4FBXXFKE4F",geolocation:!0,language:"zh-Hans",unit:"c",theme:"auto",token:"6cc2a314-5422-4e9c-b3ad-7b9217f4e494",hover:"enabled",container:"tp-weather-widget"})},nightModeInit:function(){var e;""===document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")?22<(new Date).getHours()||(new Date).getHours()<6?(document.body.classList.add("night"),document.cookie="night=1;path=/",console.log("夜间模式开启")):(document.body.classList.remove("night"),document.cookie="night=0;path=/",console.log("夜间模式关闭")):"0"===(e=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0")?document.body.classList.remove("night"):"1"===e&&document.body.classList.add("night")}},searchWidget={init:function(){this.search()},search:function(){$(".search-icon").css("opacity","1");var s=-1,o=0,n={thisSearch:"https://www.baidu.com/s?wd=",thisSearchIcon:"url('/usr/themes/WebStack/images/search_icon.png')",hotStatus:!0,data:[{name:"百度",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px 0px",position:"0px 0px",url:"https://www.baidu.com/s?wd="},{name:"谷歌",img:"url('/usr/themes/WebStack/images/search_icon.png')  -105px 0px",position:"-40px 0px",url:"https://www.google.com/search?q="},{name:"必应",img:"url('/usr/themes/WebStack/images/search_icon.png')  -80px -25px",position:"0px -40px",url:"https://cn.bing.com/search?q="},{name:"好搜",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -25px",position:"-40px -40px",url:"https://www.so.com/s?q="},{name:"搜狗",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -50px",position:"0px -80px",url:"https://www.sogou.com/web?query="},{name:"淘宝",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -50px",position:"-40px -80px",url:"https://s.taobao.com/search?q="},{name:"京东",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -75px",position:"0px -120px",url:"http://search.jd.com/Search?keyword="},{name:"天猫",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -75px",position:"-40px -120px",url:"https://list.tmall.com/search_product.htm?q="},{name:"1688",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -100px",position:"0px -160px",url:"https://s.1688.com/selloffer/offer_search.htm?keywords="},{name:"知乎",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -100px",position:"-40px -160px",url:"https://www.zhihu.com/search?type=content&q="},{name:"微博",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -125px",position:"0px -200px",url:"https://s.weibo.com/weibo/"},{name:"B站",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -125px",position:"-40px -200px",url:"http://search.bilibili.com/all?keyword="},{name:"豆瓣",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -150px",position:"0px -240px",url:"https://www.douban.com/search?source=suggest&q="},{name:"优酷",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -150px",position:"-40px -240px",url:"https://so.youku.com/search_video/q_"},{name:"GitHub",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -175px",position:"0px -280px",url:"https://github.com/search?utf8=✓&q="}]},e=localStorage.getItem("searchData");function a(e){return $(e).contents().filter(function(e,t){return 3===t.nodeType}).text().trim()}function t(e){$.ajax({type:"GET",url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",async:!0,data:{wd:e},dataType:"jsonp",jsonp:"cb",success:function(e){if($("#box ul").text(""),o=e.s.length){$("#box").css("display","block");for(var t=0;t<o;t++)$("#box ul").append("<li><span>"+(t+1)+"</span> "+e.s[t]+"</li>"),$("#box ul li").eq(t).click(function(){var e=a(this);$("#txt").val(e),window.open(n.thisSearch+e),$("#box").css("display","none")}),0===t?($("#box ul li").eq(t).css({"border-top":"none"}),$("#box ul span").eq(t).css({color:"#fff",background:"#f54545"})):1===t?$("#box ul span").eq(t).css({color:"#fff",background:"#ff8547"}):2===t&&$("#box ul span").eq(t).css({color:"#fff",background:"#ffac38"})}else $("#box").css("display","none")},error:function(e){console.log(e)}})}e&&(n=JSON.parse(e)),$("#txt").keyup(function(e){$(this).val()?38!=e.keyCode&&40!=e.keyCode&&n.hotStatus&&t($(this).val()):($(".search-clear").css("display","none"),$("#box").css("display","none"))}),$("#txt").keydown(function(e){var t;40===e.keyCode&&(s===o-1?s=0:s++,$("#box ul li").eq(s).addClass("current").siblings().removeClass("current"),t=a($("#box ul li").eq(s)),$("#txt").val(t)),38===e.keyCode&&(e.preventDefault&&e.preventDefault(),e.returnValue&&(e.returnValue=!1),0===s||-1===s?s=o-1:s--,$("#box ul li").eq(s).addClass("current").siblings().removeClass("current"),t=a($("#box ul li").eq(s)),$("#txt").val(t)),13===e.keyCode&&(window.open(n.thisSearch+$("#txt").val()),$("#box").css("display","none"),$("#txt").blur(),$("#box ul li").removeClass("current"),s=-1)}),$("#txt").focus(function(){$(".search-box").css("box-show","inset 0 1px 2px rgba(27,31,35,.075), 0 0 0 0.2em rgba(3,102,214,.3)"),$(this).val()&&n.hotStatus&&t($(this).val())}),$("#txt").blur(function(){setTimeout(function(){$("#box").css("display","none")},250)});for(var i=0;i<n.data.length;i++)$(".search-engine-list").append('<li><span style="background:'+n.data[i].img+'"/></span>'+n.data[i].name+"</li>");$(".search-icon, .search-engine").hover(function(){$(".search-engine").css("display","block")},function(){$(".search-engine").css("display","none")}),$("#hot-btn").click(function(){$(this).toggleClass("off"),n.hotStatus=!n.hotStatus,localStorage.searchData=JSON.stringify(n)}),n.hotStatus?$("#hot-btn").removeClass("off"):$("#hot-btn").addClass("off"),$(".search-engine-list li").click(function(){var e=$(this).index();n.thisSearchIcon=n.data[e].position,$(".search-icon").css("background-position",n.thisSearchIcon),n.thisSearch=n.data[e].url,$(".search-engine").css("display","none"),localStorage.searchData=JSON.stringify(n)}),$(".search-icon").css("background-position",n.thisSearchIcon),$("#search-btn").click(function(){var e=$("#txt").val();e?(window.open(n.thisSearch+e),$("#box ul").html("")):layer.msg("请输入关键词！",{time:500},function(){$("#txt").focus()})})}},WebStackInit=function(){$('[data-toggle="tooltip"]').tooltip(),webStack.init(),searchWidget.init()};function switchNightMode(){"0"===(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0")?(document.body.classList.add("night"),document.cookie="night=1;path=/"):(document.body.classList.remove("night"),document.cookie="night=0;path=/"),console.log(" ")}